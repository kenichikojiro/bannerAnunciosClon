
CREATE TABLE FWK_CALENDARIO_REPORTES
( 
	ID                   numeric(12)  IDENTITY ( 1,1 )  NOT NULL ,
	ID_REPORTE           numeric(5)  NOT NULL ,
	FECHA_DEBE_EJECUTAR  datetime  NOT NULL ,
	FECHA_EJECUCION      datetime  NULL ,
	ESTATUS              numeric(1)  NOT NULL 
	CONSTRAINT Default_1_121514503
		 DEFAULT  1,
	FECHA_CREACION       datetime  NOT NULL ,
	USR_CREACION         varchar(20)  NOT NULL ,
	FECHA_ACTUALIZACION  datetime  NULL ,
	USR_ACTUALIZA        varchar(20)  NULL 
);

ALTER TABLE FWK_CALENDARIO_REPORTES
	ADD CONSTRAINT XPKFWK_CALENDARIO_REPORTES2596 PRIMARY KEY  NONCLUSTERED (ID ASC);

CREATE TABLE FWK_CATALOGO_PANTALLAS
( 
	ID                   numeric(5)  IDENTITY ( 1,1 )  NOT NULL ,
	NOMBRE_A_MOSTRAR     varchar(150)  NULL ,
	ESTATUS              numeric(1)  NOT NULL 
	CONSTRAINT Default_1_535940360
		 DEFAULT  1,
	FECHA_CREACION       datetime  NOT NULL ,
	USR_CREACION         varchar(20)  NOT NULL ,
	FECHA_ACTUALIZACION  datetime  NULL ,
	USR_ACTUALIZA        varchar(20)  NULL ,
	RUTA_PANTALLA        varchar(100)  NULL ,
	NOMBRE_PANTALLA      varchar(100)  NULL 
);

ALTER TABLE FWK_CATALOGO_PANTALLAS
	ADD CONSTRAINT XPKFWK_CATALOGO_PANTALLAS2C184 PRIMARY KEY  NONCLUSTERED (ID ASC);

ALTER TABLE FWK_CATALOGO_PANTALLAS
	ADD CONSTRAINT XAK1FWK_CATALOGO_PANTALLAS2C18 UNIQUE (NOMBRE_A_MOSTRAR  ASC);

CREATE TABLE FWK_CATALOGO_REPORTES
( 
	ID                   numeric(5)  IDENTITY ( 1,1 )  NOT NULL ,
	NOMBRE_A_MOSTRAR     varchar(150)  NULL ,
	ESTATUS              numeric(1)  NOT NULL 
	CONSTRAINT Default_1_133960189
		 DEFAULT  1,
	FECHA_CREACION       datetime  NOT NULL ,
	USR_CREACION         varchar(20)  NOT NULL ,
	FECHA_ACTUALIZACION  datetime  NULL ,
	USR_ACTUALIZA        varchar(20)  NULL ,
	RUTA_REPORTE         varchar(100)  NULL ,
	NOMBRE_REPORTE       varchar(100)  NULL ,
	GUARDAR_EN_DISCO     numeric(1)  NOT NULL 
	CONSTRAINT Default_0_1969824368
		 DEFAULT  0
	CONSTRAINT VALORLOGICO_1281848922
		CHECK  ( GUARDAR_EN_DISCO BETWEEN 0 AND 1 ),
	RUTA_GUARDAR_REPORTE varchar(100)  NULL ,
	ID_CORREO_EXITO      numeric(10)  NULL ,
	ID_CORREO_ERROR      numeric(10)  NULL,
	ID_PROCESO           numeric(5) NULL, 
	CALENDARIZABLE     numeric(1)  NOT NULL 
	CONSTRAINT Default_0_196982436
		 DEFAULT  0
);

ALTER TABLE FWK_CATALOGO_REPORTES
	ADD CONSTRAINT XPKFWK_CATALOGO_REPORTESE806C1 PRIMARY KEY  NONCLUSTERED (ID ASC);

ALTER TABLE FWK_CATALOGO_REPORTES
	ADD CONSTRAINT XAK1FWK_CATALOGO_REPORTESE806C UNIQUE (NOMBRE_A_MOSTRAR  ASC);

CREATE TABLE FWK_CATALOGO_TIPO_EXPORTACION
( 
	ID                   numeric(5)  IDENTITY ( 1,1 )  NOT NULL ,
	NOMBRE_TIPO_EXPORTACION varchar(150)  NULL ,
	ESTATUS              numeric(1)  NOT NULL 
	CONSTRAINT Default_1_1718311792
		 DEFAULT  1,
	FECHA_CREACION       datetime  NOT NULL ,
	USR_CREACION         varchar(20)  NOT NULL ,
	FECHA_ACTUALIZACION  datetime  NULL ,
	USR_ACTUALIZA        varchar(20)  NULL ,
	ABREVIATURA_TIPO_EXPORTACION varchar(10)  NULL ,
	SOLO_PARA_REPORTES        numeric(1)  NOT NULL 
	CONSTRAINT Default_1_198949905
		 DEFAULT  1
);

ALTER TABLE FWK_CATALOGO_TIPO_EXPORTACION
	ADD CONSTRAINT XPKFWK_CATALOGO_TIPO_EXPORT8FA PRIMARY KEY  NONCLUSTERED (ID ASC);

ALTER TABLE FWK_CATALOGO_TIPO_EXPORTACION
	ADD CONSTRAINT XAK1FWK_CATALOGO_TIPO_EXPORT8F UNIQUE (NOMBRE_TIPO_EXPORTACION  ASC);

ALTER TABLE FWK_CATALOGO_TIPO_EXPORTACION
	ADD CONSTRAINT XAK2FWK_CATALOGO_TIPO_EXPORT8F UNIQUE (ABREVIATURA_TIPO_EXPORTACION  ASC);

CREATE TABLE FWK_FILTRO_PANTALLA_CAMPO
( 
	ID                   numeric(12)  IDENTITY ( 1,1 )  NOT NULL ,
	ID_FILTRO_PANTALLA   numeric(12)  NOT NULL ,
	NOMBRE_ATRIBUTO      varchar(75)  NOT NULL ,
	VALOR_ATRIBUTO       varchar(100)  NOT NULL 
);

ALTER TABLE FWK_FILTRO_PANTALLA_CAMPO
	ADD CONSTRAINT XPKFWK_FILTRO_PANTALLA_CAMP362 PRIMARY KEY  NONCLUSTERED (ID ASC);

ALTER TABLE FWK_FILTRO_PANTALLA_CAMPO
	ADD CONSTRAINT XAK1FWK_FILTRO_PANTALLA_CAMP36 UNIQUE (ID_FILTRO_PANTALLA  ASC,NOMBRE_ATRIBUTO  ASC);

CREATE TABLE FWK_FILTRO_USR_PANTALLA
( 
	ID                   numeric(12)  IDENTITY ( 1,1 )  NOT NULL ,
	ID_USR               numeric(10)  NOT NULL ,
	ID_PANTALLA          numeric(5)  NOT NULL ,
	NOMBRE_FILTRO        varchar(50)  NOT NULL ,
	ESTATUS              numeric(1)  NOT NULL 
	CONSTRAINT Default_1_105071896
		 DEFAULT  1,
	FECHA_CREACION       datetime  NOT NULL ,
	USR_CREACION         varchar(20)  NOT NULL ,
	FECHA_ACTUALIZACION  datetime  NULL ,
	USR_ACTUALIZA        varchar(20)  NULL 
);

ALTER TABLE FWK_FILTRO_USR_PANTALLA
	ADD CONSTRAINT XPKFWK_FILTRO_USR_PANTALLAC2F2 PRIMARY KEY  NONCLUSTERED (ID ASC);

ALTER TABLE FWK_FILTRO_USR_PANTALLA
	ADD CONSTRAINT XAK1FWK_FILTRO_USR_PANTALLAC2F UNIQUE (ID_PANTALLA  ASC,ID_USR  ASC,NOMBRE_FILTRO  ASC);

CREATE TABLE FWK_REPORTE_PANTALLA
( 
	ID_PANTALLA          numeric(5)  NOT NULL ,
	ID_REPORTE           numeric(5)  NULL ,
	ID                   numeric(5)  IDENTITY ( 1,1 )  NOT NULL ,
	ID_TIPO_EXPORTACION  numeric(5)  NULL ,
	ID_PERMISO           numeric(10)  NULL 
);

ALTER TABLE FWK_REPORTE_PANTALLA
	ADD CONSTRAINT XPKFWK_REPORTE_PANTALLA5C13429 PRIMARY KEY  NONCLUSTERED (ID ASC);

ALTER TABLE FWK_REPORTE_PANTALLA
	ADD CONSTRAINT XAK1FWK_REPORTE_PANTALLA5C1342 UNIQUE (ID_PANTALLA  ASC,ID_REPORTE  ASC,ID_TIPO_EXPORTACION  ASC);

ALTER TABLE FWK_CALENDARIO_REPORTES
	ADD CONSTRAINT FK_FWK_CALENDARIO_REPORTES_FFD FOREIGN KEY (ID_REPORTE) REFERENCES FWK_CATALOGO_REPORTES(ID)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION;


ALTER TABLE FWK_FILTRO_PANTALLA_CAMPO
	ADD CONSTRAINT FK_FWK_FILTRO_PANTALLA_CAMP6B2 FOREIGN KEY (ID_FILTRO_PANTALLA) REFERENCES FWK_FILTRO_USR_PANTALLA(ID)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION;


ALTER TABLE FWK_FILTRO_USR_PANTALLA
	ADD CONSTRAINT FK_FWK_FILTRO_USR_PANTALLA_F57 FOREIGN KEY (ID_USR) REFERENCES SEG_USUARIO(ID)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION;

ALTER TABLE FWK_FILTRO_USR_PANTALLA
	ADD CONSTRAINT FK_FWK_FILTRO_USR_PANTALLA_E0A FOREIGN KEY (ID_PANTALLA) REFERENCES FWK_CATALOGO_PANTALLAS(ID)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION;


ALTER TABLE FWK_REPORTE_PANTALLA
	ADD CONSTRAINT FK_FWK_REPORTE_PANTALLA_FWK6B6 FOREIGN KEY (ID_PANTALLA) REFERENCES FWK_CATALOGO_PANTALLAS(ID)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION;

ALTER TABLE FWK_REPORTE_PANTALLA
	ADD CONSTRAINT FK_FWK_REPORTE_PANTALLA_FWK91D FOREIGN KEY (ID_REPORTE) REFERENCES FWK_CATALOGO_REPORTES(ID)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION;

ALTER TABLE FWK_REPORTE_PANTALLA
	ADD CONSTRAINT FK_FWK_REPORTE_PANTALLA_FWKE0A FOREIGN KEY (ID_TIPO_EXPORTACION) REFERENCES FWK_CATALOGO_TIPO_EXPORTACION(ID)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION;

ALTER TABLE FWK_REPORTE_PANTALLA
	ADD CONSTRAINT FK_FWK_REPORTE_PANTALLA_SEG24A FOREIGN KEY (ID_PERMISO) REFERENCES SEG_PERMISO(ID)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION;
